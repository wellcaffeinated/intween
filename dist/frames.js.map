{"version":3,"sources":["webpack://Frames/webpack/universalModuleDefinition","webpack://Frames/webpack/bootstrap","webpack://Frames/./node_modules/easing-functions/index.js","webpack://Frames/./node_modules/process/browser.js","webpack://Frames/./src/event-emitter.js","webpack://Frames/./src/frame.js","webpack://Frames/./src/index.js","webpack://Frames/./src/interpolators.js","webpack://Frames/./src/manager.js","webpack://Frames/./src/parsers/time.js","webpack://Frames/./src/schema.js","webpack://Frames/./src/timeline.js","webpack://Frames/./src/transition.js","webpack://Frames/./src/util/index.js"],"names":["defaultPriority","getPriority","val","_priority_","EventEmitter","_topics","topic","fn","scope","priority","listeners","orig","idx","t","on","bind","_bindfn_","_one_","_scope_","undefined","util","sortedIndex","splice","listn","off","i","l","length","data","handler","e","one","DEFAULT_FRAME_META","time","META_PARSERS","timeParser","duration","parseMeta","meta","defaults","ret","key","createFrame","state","defaultMetaOptions","Error","$meta","startTime","Frames","schema","Manager","Easing","Interpolators","Pi2","Math","PI","shortestAngleDist","a0","a1","da","Linear","from","to","Angle","Array","map","v1","DEFAULT_OPTIONS","playbackRate","defaultTransitionDuration","meddleTimeout","meddleRelaxDuration","meddleRelaxDelay","options","framesById","frames","timeline","paused","_schema","_defaultState","_state","Object","assign","unmeddle","frame","id","push","refreshTimeline","meddleState","relaxDuration","relaxDelay","freeze","_meddle","endState","active","timeOrId","getFrame","seek","getStateAt","meddle","endTime","pick","keys","totalTime","timeFraction","meddleTransitionState","emit","m","transition","transitions","startState","now","clockTime","_clockTime","dt","toFixed","timeDecReg","timeStdReg","MINUTES","HOURS","getTime","h","s","parseFloat","round","strOrNumber","parsed","match","unit","toLowerCase","getType","type","Number","Boolean","String","isArray","getDefaultValue","def","isFinite","k","createSchema","schemaDef","defaultEasing","None","props","prop","easing","interpolator","defaultVal","default","createState","getConflictingFrames","markers","indexOf","start","j","paths","getIntersectingPaths","createTimeline","v","defaultState","forEach","end","sort","a","b","prevState","getTransitionsAtTime","reduceTransitions","conflicts","JSON","stringify","getStartState","initialState","reduce","tr","progress","createTransitionFromFrame","previousState","interpolateProperty","getInterpolatedState","nextState","getTimeFraction","clamp","identity","window","process","hrtime","performance","Date","min","max","array","value","callback","low","high","mid","obj","out","o1","o2","filter","prototype","hasOwnProperty"],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,CAAC;AACD,O;ACVA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,kDAA0C,gCAAgC;AAC1E;AACA;;AAEA;AACA;AACA;AACA,gEAAwD,kBAAkB;AAC1E;AACA,yDAAiD,cAAc;AAC/D;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAyC,iCAAiC;AAC1E,wHAAgH,mBAAmB,EAAE;AACrI;AACA;;AAEA;AACA;AACA;AACA,mCAA2B,0BAA0B,EAAE;AACvD,yCAAiC,eAAe;AAChD;AACA;AACA;;AAEA;AACA,8DAAsD,+DAA+D;;AAErH;AACA;;;AAGA;AACA;;;;;;;;;;;;AClFA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;AACA;AACA,gCAAgC,OAAO,WAAW;AAClD;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;AACA;AACA,gCAAgC,OAAO,WAAW;AAClD;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;AACA;AACA,gCAAgC,OAAO,WAAW;AAClD;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,KAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;;AAEA;;AAEA,aAAa;;AAEb;;AAEA,aAAa;;AAEb;;AAEA,aAAa;;AAEb;;AAEA;;AAEA,SAAS;;AAET;AACA;AACA;AACA;AACA,kBAAkB,OAAO;AACzB,oBAAoB,OAAO;AAC3B;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,E;;;;;;;;;;;AC1iBA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA,SAAS;AACT;AACA;AACA,KAAK;AACL;AACA;AACA,CAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;;;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA,SAAS;AACT;AACA;AACA;AACA;AACA;;;;AAIA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAqB;AACrB;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,qCAAqC;;AAErC;AACA;AACA;;AAEA,2BAA2B;AAC3B;AACA;AACA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","file":"frames.js","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"Frames\"] = factory();\n\telse\n\t\troot[\"Frames\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","/**\n* A collection of easing methods defining ease-in ease-out curves.\n*\n* @class Easing\n*/\nvar Easing = module.exports = {\n\n    /**\n    * Linear easing.\n    *\n    * @class Easing.Linear\n    */\n    Linear: {\n\n        /**\n        * Ease-in.\n        *\n        * @method Easing.Linear#In\n        * @param {number} k - The value to be tweened.\n        * @returns {number} k^2.\n        */\n        None: function ( k ) {\n\n            return k;\n\n        }\n\n    },\n\n    /**\n    * Quadratic easing.\n    *\n    * @class Easing.Quadratic\n    */\n    Quadratic: {\n\n        /**\n        * Ease-in.\n        *\n        * @method Easing.Quadratic#In\n        * @param {number} k - The value to be tweened.\n        * @returns {number} k^2.\n        */\n        In: function ( k ) {\n\n            return k * k;\n\n        },\n\n        /**\n        * Ease-out.\n        *\n        * @method Easing.Quadratic#Out\n        * @param {number} k - The value to be tweened.\n        * @returns {number} k* (2-k).\n        */\n        Out: function ( k ) {\n\n            return k * ( 2 - k );\n\n        },\n\n        /**\n        * Ease-in/out.\n        *\n        * @method Easing.Quadratic#InOut\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        InOut: function ( k ) {\n\n            if ( ( k *= 2 ) < 1 ) return 0.5 * k * k;\n            return - 0.5 * ( --k * ( k - 2 ) - 1 );\n\n        }\n\n    },\n\n    /**\n    * Cubic easing.\n    *\n    * @class Easing.Cubic\n    */\n    Cubic: {\n\n        /**\n        * Cubic ease-in.\n        *\n        * @method Easing.Cubic#In\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        In: function ( k ) {\n\n            return k * k * k;\n\n        },\n\n        /**\n        * Cubic ease-out.\n        *\n        * @method Easing.Cubic#Out\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        Out: function ( k ) {\n\n            return --k * k * k + 1;\n\n        },\n\n        /**\n        * Cubic ease-in/out.\n        *\n        * @method Easing.Cubic#InOut\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        InOut: function ( k ) {\n\n            if ( ( k *= 2 ) < 1 ) return 0.5 * k * k * k;\n            return 0.5 * ( ( k -= 2 ) * k * k + 2 );\n\n        }\n\n    },\n\n    /**\n    * Quartic easing.\n    *\n    * @class Easing.Quartic\n    */\n    Quartic: {\n\n        /**\n        * Quartic ease-in.\n        *\n        * @method Easing.Quartic#In\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        In: function ( k ) {\n\n            return k * k * k * k;\n\n        },\n\n        /**\n        * Quartic ease-out.\n        *\n        * @method Easing.Quartic#Out\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        Out: function ( k ) {\n\n            return 1 - ( --k * k * k * k );\n\n        },\n\n        /**\n        * Quartic ease-in/out.\n        *\n        * @method Easing.Quartic#InOut\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        InOut: function ( k ) {\n\n            if ( ( k *= 2 ) < 1) return 0.5 * k * k * k * k;\n            return - 0.5 * ( ( k -= 2 ) * k * k * k - 2 );\n\n        }\n\n    },\n\n    /**\n    * Quintic easing.\n    *\n    * @class Easing.Quintic\n    */\n    Quintic: {\n\n        /**\n        * Quintic ease-in.\n        *\n        * @method Easing.Quintic#In\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        In: function ( k ) {\n\n            return k * k * k * k * k;\n\n        },\n\n        /**\n        * Quintic ease-out.\n        *\n        * @method Easing.Quintic#Out\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        Out: function ( k ) {\n\n            return --k * k * k * k * k + 1;\n\n        },\n\n        /**\n        * Quintic ease-in/out.\n        *\n        * @method Easing.Quintic#InOut\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        InOut: function ( k ) {\n\n            if ( ( k *= 2 ) < 1 ) return 0.5 * k * k * k * k * k;\n            return 0.5 * ( ( k -= 2 ) * k * k * k * k + 2 );\n\n        }\n\n    },\n\n    /**\n    * Sinusoidal easing.\n    *\n    * @class Easing.Sinusoidal\n    */\n    Sinusoidal: {\n\n        /**\n        * Sinusoidal ease-in.\n        *\n        * @method Easing.Sinusoidal#In\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        In: function ( k ) {\n\n            return 1 - Math.cos( k * Math.PI / 2 );\n\n        },\n\n        /**\n        * Sinusoidal ease-out.\n        *\n        * @method Easing.Sinusoidal#Out\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        Out: function ( k ) {\n\n            return Math.sin( k * Math.PI / 2 );\n\n        },\n\n        /**\n        * Sinusoidal ease-in/out.\n        *\n        * @method Easing.Sinusoidal#InOut\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        InOut: function ( k ) {\n\n            return 0.5 * ( 1 - Math.cos( Math.PI * k ) );\n\n        }\n\n    },\n\n    /**\n    * Exponential easing.\n    *\n    * @class Easing.Exponential\n    */\n    Exponential: {\n\n        /**\n        * Exponential ease-in.\n        *\n        * @method Easing.Exponential#In\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        In: function ( k ) {\n\n            return k === 0 ? 0 : Math.pow( 1024, k - 1 );\n\n        },\n\n        /**\n        * Exponential ease-out.\n        *\n        * @method Easing.Exponential#Out\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        Out: function ( k ) {\n\n            return k === 1 ? 1 : 1 - Math.pow( 2, - 10 * k );\n\n        },\n\n        /**\n        * Exponential ease-in/out.\n        *\n        * @method Easing.Exponential#InOut\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        InOut: function ( k ) {\n\n            if ( k === 0 ) return 0;\n            if ( k === 1 ) return 1;\n            if ( ( k *= 2 ) < 1 ) return 0.5 * Math.pow( 1024, k - 1 );\n            return 0.5 * ( - Math.pow( 2, - 10 * ( k - 1 ) ) + 2 );\n\n        }\n\n    },\n\n    /**\n    * Circular easing.\n    *\n    * @class Easing.Circular\n    */\n    Circular: {\n\n        /**\n        * Circular ease-in.\n        *\n        * @method Easing.Circular#In\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        In: function ( k ) {\n\n            return 1 - Math.sqrt( 1 - k * k );\n\n        },\n\n        /**\n        * Circular ease-out.\n        *\n        * @method Easing.Circular#Out\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        Out: function ( k ) {\n\n            return Math.sqrt( 1 - ( --k * k ) );\n\n        },\n\n        /**\n        * Circular ease-in/out.\n        *\n        * @method Easing.Circular#InOut\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        InOut: function ( k ) {\n\n            if ( ( k *= 2 ) < 1) return - 0.5 * ( Math.sqrt( 1 - k * k) - 1);\n            return 0.5 * ( Math.sqrt( 1 - ( k -= 2) * k) + 1);\n\n        }\n\n    },\n\n    /**\n    * Elastic easing.\n    *\n    * @class Easing.Elastic\n    */\n    Elastic: {\n\n        /**\n        * Elastic ease-in.\n        *\n        * @method Easing.Elastic#In\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        In: function ( k ) {\n\n            var s, a = 0.1, p = 0.4;\n            if ( k === 0 ) return 0;\n            if ( k === 1 ) return 1;\n            if ( !a || a < 1 ) { a = 1; s = p / 4; }\n            else s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n            return - ( a * Math.pow( 2, 10 * ( k -= 1 ) ) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) );\n\n        },\n\n        /**\n        * Elastic ease-out.\n        *\n        * @method Easing.Elastic#Out\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        Out: function ( k ) {\n\n            var s, a = 0.1, p = 0.4;\n            if ( k === 0 ) return 0;\n            if ( k === 1 ) return 1;\n            if ( !a || a < 1 ) { a = 1; s = p / 4; }\n            else s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n            return ( a * Math.pow( 2, - 10 * k) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) + 1 );\n\n        },\n\n        /**\n        * Elastic ease-in/out.\n        *\n        * @method Easing.Elastic#InOut\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        InOut: function ( k ) {\n\n            var s, a = 0.1, p = 0.4;\n            if ( k === 0 ) return 0;\n            if ( k === 1 ) return 1;\n            if ( !a || a < 1 ) { a = 1; s = p / 4; }\n            else s = p * Math.asin( 1 / a ) / ( 2 * Math.PI );\n            if ( ( k *= 2 ) < 1 ) return - 0.5 * ( a * Math.pow( 2, 10 * ( k -= 1 ) ) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) );\n            return a * Math.pow( 2, -10 * ( k -= 1 ) ) * Math.sin( ( k - s ) * ( 2 * Math.PI ) / p ) * 0.5 + 1;\n\n        }\n\n    },\n\n    /**\n    * Back easing.\n    *\n    * @class Easing.Back\n    */\n    Back: {\n\n        /**\n        * Back ease-in.\n        *\n        * @method Easing.Back#In\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        In: function ( k ) {\n\n            var s = 1.70158;\n            return k * k * ( ( s + 1 ) * k - s );\n\n        },\n\n        /**\n        * Back ease-out.\n        *\n        * @method Easing.Back#Out\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        Out: function ( k ) {\n\n            var s = 1.70158;\n            return --k * k * ( ( s + 1 ) * k + s ) + 1;\n\n        },\n\n        /**\n        * Back ease-in/out.\n        *\n        * @method Easing.Back#InOut\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        InOut: function ( k ) {\n\n            var s = 1.70158 * 1.525;\n            if ( ( k *= 2 ) < 1 ) return 0.5 * ( k * k * ( ( s + 1 ) * k - s ) );\n            return 0.5 * ( ( k -= 2 ) * k * ( ( s + 1 ) * k + s ) + 2 );\n\n        }\n\n    },\n\n    /**\n    * Bounce easing.\n    *\n    * @class Easing.Bounce\n    */\n    Bounce: {\n\n        /**\n        * Bounce ease-in.\n        *\n        * @method Easing.Bounce#In\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        In: function ( k ) {\n\n            return 1 - Easing.Bounce.Out( 1 - k );\n\n        },\n\n        /**\n        * Bounce ease-out.\n        *\n        * @method Easing.Bounce#Out\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        Out: function ( k ) {\n\n            if ( k < ( 1 / 2.75 ) ) {\n\n                return 7.5625 * k * k;\n\n            } else if ( k < ( 2 / 2.75 ) ) {\n\n                return 7.5625 * ( k -= ( 1.5 / 2.75 ) ) * k + 0.75;\n\n            } else if ( k < ( 2.5 / 2.75 ) ) {\n\n                return 7.5625 * ( k -= ( 2.25 / 2.75 ) ) * k + 0.9375;\n\n            } else {\n\n                return 7.5625 * ( k -= ( 2.625 / 2.75 ) ) * k + 0.984375;\n\n            }\n\n        },\n\n        /**\n        * Bounce ease-in/out.\n        *\n        * @method Easing.Bounce#InOut\n        * @param {number} k - The value to be tweened.\n        * @returns {number} The tweened value.\n        */\n        InOut: function ( k ) {\n\n            if ( k < 0.5 ) return Easing.Bounce.In( k * 2 ) * 0.5;\n            return Easing.Bounce.Out( k * 2 - 1 ) * 0.5 + 0.5;\n\n        }\n\n    }\n\n};","// shim for using process in browser\nvar process = module.exports = {};\n\n// cached from whatever global is present so that test runners that stub it\n// don't break things.  But we need to wrap it in a try catch in case it is\n// wrapped in strict mode code which doesn't define any globals.  It's inside a\n// function because try/catches deoptimize in certain engines.\n\nvar cachedSetTimeout;\nvar cachedClearTimeout;\n\nfunction defaultSetTimout() {\n    throw new Error('setTimeout has not been defined');\n}\nfunction defaultClearTimeout () {\n    throw new Error('clearTimeout has not been defined');\n}\n(function () {\n    try {\n        if (typeof setTimeout === 'function') {\n            cachedSetTimeout = setTimeout;\n        } else {\n            cachedSetTimeout = defaultSetTimout;\n        }\n    } catch (e) {\n        cachedSetTimeout = defaultSetTimout;\n    }\n    try {\n        if (typeof clearTimeout === 'function') {\n            cachedClearTimeout = clearTimeout;\n        } else {\n            cachedClearTimeout = defaultClearTimeout;\n        }\n    } catch (e) {\n        cachedClearTimeout = defaultClearTimeout;\n    }\n} ())\nfunction runTimeout(fun) {\n    if (cachedSetTimeout === setTimeout) {\n        //normal enviroments in sane situations\n        return setTimeout(fun, 0);\n    }\n    // if setTimeout wasn't available but was latter defined\n    if ((cachedSetTimeout === defaultSetTimout || !cachedSetTimeout) && setTimeout) {\n        cachedSetTimeout = setTimeout;\n        return setTimeout(fun, 0);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedSetTimeout(fun, 0);\n    } catch(e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't trust the global object when called normally\n            return cachedSetTimeout.call(null, fun, 0);\n        } catch(e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error\n            return cachedSetTimeout.call(this, fun, 0);\n        }\n    }\n\n\n}\nfunction runClearTimeout(marker) {\n    if (cachedClearTimeout === clearTimeout) {\n        //normal enviroments in sane situations\n        return clearTimeout(marker);\n    }\n    // if clearTimeout wasn't available but was latter defined\n    if ((cachedClearTimeout === defaultClearTimeout || !cachedClearTimeout) && clearTimeout) {\n        cachedClearTimeout = clearTimeout;\n        return clearTimeout(marker);\n    }\n    try {\n        // when when somebody has screwed with setTimeout but no I.E. maddness\n        return cachedClearTimeout(marker);\n    } catch (e){\n        try {\n            // When we are in I.E. but the script has been evaled so I.E. doesn't  trust the global object when called normally\n            return cachedClearTimeout.call(null, marker);\n        } catch (e){\n            // same as above but when it's a version of I.E. that must have the global object for 'this', hopfully our context correct otherwise it will throw a global error.\n            // Some versions of I.E. have different rules for clearTimeout vs setTimeout\n            return cachedClearTimeout.call(this, marker);\n        }\n    }\n\n\n\n}\nvar queue = [];\nvar draining = false;\nvar currentQueue;\nvar queueIndex = -1;\n\nfunction cleanUpNextTick() {\n    if (!draining || !currentQueue) {\n        return;\n    }\n    draining = false;\n    if (currentQueue.length) {\n        queue = currentQueue.concat(queue);\n    } else {\n        queueIndex = -1;\n    }\n    if (queue.length) {\n        drainQueue();\n    }\n}\n\nfunction drainQueue() {\n    if (draining) {\n        return;\n    }\n    var timeout = runTimeout(cleanUpNextTick);\n    draining = true;\n\n    var len = queue.length;\n    while(len) {\n        currentQueue = queue;\n        queue = [];\n        while (++queueIndex < len) {\n            if (currentQueue) {\n                currentQueue[queueIndex].run();\n            }\n        }\n        queueIndex = -1;\n        len = queue.length;\n    }\n    currentQueue = null;\n    draining = false;\n    runClearTimeout(timeout);\n}\n\nprocess.nextTick = function (fun) {\n    var args = new Array(arguments.length - 1);\n    if (arguments.length > 1) {\n        for (var i = 1; i < arguments.length; i++) {\n            args[i - 1] = arguments[i];\n        }\n    }\n    queue.push(new Item(fun, args));\n    if (queue.length === 1 && !draining) {\n        runTimeout(drainQueue);\n    }\n};\n\n// v8 likes predictible objects\nfunction Item(fun, array) {\n    this.fun = fun;\n    this.array = array;\n}\nItem.prototype.run = function () {\n    this.fun.apply(null, this.array);\n};\nprocess.title = 'browser';\nprocess.browser = true;\nprocess.env = {};\nprocess.argv = [];\nprocess.version = ''; // empty string to avoid regexp issues\nprocess.versions = {};\n\nfunction noop() {}\n\nprocess.on = noop;\nprocess.addListener = noop;\nprocess.once = noop;\nprocess.off = noop;\nprocess.removeListener = noop;\nprocess.removeAllListeners = noop;\nprocess.emit = noop;\nprocess.prependListener = noop;\nprocess.prependOnceListener = noop;\n\nprocess.listeners = function (name) { return [] }\n\nprocess.binding = function (name) {\n    throw new Error('process.binding is not supported');\n};\n\nprocess.cwd = function () { return '/' };\nprocess.chdir = function (dir) {\n    throw new Error('process.chdir is not supported');\n};\nprocess.umask = function() { return 0; };\n","import util from '@/util'\n\nconst defaultPriority = 1\n\nfunction getPriority( val ){\n  return val._priority_\n}\n\nexport default class EventEmitter {\n  constructor(){\n    // ensure topics hash is initialized\n    this._topics = this._topics || (this._topics = {})\n  }\n  /**\n  * EventEmitter#on( topic, fn( data, event )[, scope, priority] ) -> this\n  * EventEmitter#on( topicConfig[, scope, priority] ) -> this\n  * - topic (String): The topic name\n  * - topicConfig (Object): A config with key/value pairs of `{ topic: callbackFn, ... }`\n  * - fn (Function): The callback function (if not using Object as previous argument)\n  * - data (Mixed): The data sent from the call to `.emit()`\n  * - event (Object): Event data, holding `.topic`, the topic, and `.handler`, the `fn` callback.\n  * - scope (Object): The scope to bind callback to\n  * - priority (Number): The priority of the callback (higher is earlier)\n  *\n  * Subscribe callback(s) to a topic(s).\n  **/\n  on( topic, fn, scope, priority ){\n\n    let listeners\n    let orig\n    let idx\n\n    // check if we're subscribing to multiple topics\n    // with an object\n    if ( typeof topic === 'object' ){\n\n      for ( let t in topic ){\n        this.on( t, topic[ t ], fn, scope )\n      }\n\n      return this\n    }\n\n    listeners = this._topics[ topic ] || (this._topics[ topic ] = [])\n    orig = fn\n\n    if ( typeof scope === 'object' ){\n\n      fn = fn.bind( scope )\n      fn._bindfn_ = orig\n      fn._one_ = orig._one_\n      fn._scope_ = scope\n\n    } else if ( priority === undefined ) {\n\n      priority = scope\n    }\n\n    fn._priority_ = priority === undefined ? defaultPriority : priority\n\n    idx = util.sortedIndex( listeners, fn, getPriority )\n\n    listeners.splice( idx, 0, fn )\n    return this\n  }\n\n  /**\n  * EventEmitter#off( topic, fn[, scope] ) -> this\n  * EventEmitter#off( topicCfg ) -> this\n  * - topic (String): topic The topic name. Specify `true` to remove all listeners for all topics\n  * - topicCfg (Object): A config with key/value pairs of `{ topic: callbackFn, ... }`\n  * - fn (Function): The original callback function. Specify `true` to remove all listeners for specified topic\n  * - scope (Object): The scope the callback was bound to. This is important if you are\n  *   binding methods that come from object prototypes.\n  *\n  * Unsubscribe callback(s) from topic(s).\n  **/\n  off( topic, fn, scope ){\n\n    let listeners\n    let listn\n\n    if ( topic === true ){\n      // purge all listeners\n      this._topics = {}\n      return this\n    }\n\n    // check if we're subscribing to multiple topics\n    // with an object\n    if ( typeof topic === 'object' ){\n\n      for ( let t in topic ){\n\n        this.off( t, topic[ t ] )\n      }\n\n      return this\n    }\n\n    listeners = this._topics[ topic ]\n\n    if (!listeners){\n      return this\n    }\n\n    if ( fn === true ){\n      // purge all listeners for topic\n      this._topics[ topic ] = []\n      return this\n    }\n\n    for ( let i = 0, l = listeners.length; i < l; i++ ){\n\n      listn = listeners[ i ]\n\n      if (\n        (listn._bindfn_ === fn || listn === fn) &&\n        ( (!scope) || listn._scope_ === scope) // check the scope too if specified\n      ){\n        listeners.splice( i, 1 )\n        break\n      }\n    }\n\n    return this\n  }\n\n  /**\n  * EventEmitter#emit( topic[, data] ) -> this\n  * - topic (String): The topic name\n  * - data (Mixed): The data to send\n  *\n  * Publish data to a topic.\n  **/\n  emit( topic, data ){\n\n    let listeners = this._topics[ topic ]\n    let l = listeners && listeners.length\n    let handler\n    let e\n\n    if ( !l ){\n      return this\n    }\n\n    e = {}\n    // event data\n    e.topic = topic\n    e.handler = handler\n\n    // reverse iterate so priorities work out correctly\n    while ( l-- ){\n\n      handler = listeners[ l ]\n      handler( data, e )\n\n      // if _one_ flag is set, the unsubscribe\n      if ( handler._one_ ){\n        listeners.splice( l, 1 )\n      }\n    }\n\n    return this\n  }\n\n  /**\n  * EventEmitter#one( topic, fn( data, event )[, scope, priority] ) -> this\n  * EventEmitter#one( topicConfig[, scope, priority] ) -> this\n  * - topic (String): The topic name\n  * - topicConfig (Object): A config with key/value pairs of `{ topic: callbackFn, ... }`\n  * - fn (Function): The callback function (if not using Object as previous argument)\n  * - data (Mixed): The data sent from the call to `.emit()`\n  * - event (Object): Event data, holding `.topic`, the topic, and `.handler`, the `fn` callback.\n  * - scope (Object): The scope to bind callback to\n  * - priority (Number): The priority of the callback (higher is earlier)\n  *\n  * Subscribe callback(s) to a topic(s), but only ONCE.\n  **/\n  one( topic, fn, scope ){\n\n    // check if we're subscribing to multiple topics\n    // with an object\n    if ( typeof topic === 'object' ){\n\n      for ( let t in topic ){\n\n        this.one( t, topic[ t ], fn, scope )\n      }\n\n      return this\n    }\n\n    // set the _one_ flag\n    fn._one_ = true\n    this.on( topic, fn, scope )\n\n    return this\n  }\n}\n","import { timeParser } from '@/parsers/time'\n\nconst DEFAULT_FRAME_META = { time: 0 }\nconst META_PARSERS = {\n  time: timeParser\n  , duration: timeParser\n}\n\n// parse meta to standardized format\nfunction parseMeta( meta, defaults ){\n  let ret = { ...defaults, ...meta } // clone\n\n  for ( let key in META_PARSERS ){\n    ret[key] = META_PARSERS[key]( ret[key] )\n  }\n\n  return ret\n}\n\nexport function createFrame( state, meta, defaultMetaOptions ){\n  if ( !state ){\n    throw new Error('Can not create frame without state')\n  }\n\n  state = { ...state }\n  meta = parseMeta( meta || state.$meta, { ...defaultMetaOptions, ...DEFAULT_FRAME_META } )\n\n  delete state.$meta\n\n  if ( !meta.duration ){\n    meta.duration = meta.time - meta.startTime\n  }\n\n  if ( !meta.startTime ){\n    meta.startTime = meta.time - meta.duration\n  }\n\n  return {\n    state\n    , meta\n  }\n}\n","import Easing from 'easing-functions'\nimport Manager from '@/manager'\nimport Interpolators from '@/interpolators'\n\nconst Frames = function( schema, meta ){\n  return new Manager( schema, meta )\n}\n\nFrames.Easing = Easing\nFrames.Interpolators = Interpolators\n\nexport default Frames\n","const Pi2 = Math.PI * 2\n\nfunction shortestAngleDist( a0, a1 ) {\n  let da = (a1 - a0) % Pi2\n\n  return (da - Math.PI) % Pi2 + Math.PI\n}\n\nconst Interpolators = {\n  Linear: ( from, to, t ) => from * ( 1 - t ) + to * t\n  , Angle: ( from, to, t ) => from + shortestAngleDist(from, to) * t\n  , Array: ( from, to, t ) => to.map( (v1, idx) => Interpolators.Linear( from[idx], v1, t ) )\n}\n\nexport default Interpolators\n","import util from '@/util'\nimport { createSchema, createState } from '@/schema'\nimport { getTimeFraction, getInterpolatedState } from '@/transition'\nimport { createFrame } from '@/frame'\nimport {\n  getTransitionsAtTime\n  , createTimeline\n  , reduceTransitions\n  , getStartState\n} from '@/timeline'\nimport EventEmitter from '@/event-emitter'\n\nconst DEFAULT_OPTIONS = {\n  playbackRate: 1\n  , defaultTransitionDuration: 1000\n  , meddleTimeout: 2000\n  , meddleRelaxDuration: 500\n  , meddleRelaxDelay: 1000\n}\n\nexport default class extends EventEmitter {\n  constructor( schema, options ){\n    super()\n\n    this.time = 0\n    this.framesById = {}\n    this.frames = []\n    this.timeline = []\n    this.paused = false\n\n    this._schema = createSchema( schema )\n    this._defaultState = createState( this._schema )\n    this._state = {}\n\n    this.options = Object.assign({}, DEFAULT_OPTIONS, options)\n    // reset\n    this.unmeddle()\n  }\n\n  get state(){\n    return this._state\n  }\n\n  get totalTime(){\n    return this.timeline[this.timeline.length - 1].time\n  }\n\n  get progress(){\n    return (this.time / this.totalTime * 100).toFixed(2)\n  }\n\n  // add a frame\n  add( state, meta ){\n\n    let frame = createFrame(state, meta, {\n      duration: this.options.defaultTransitionDuration\n    })\n\n    if ( frame.meta.id && this.framesById[frame.meta.id] ){\n      throw new Error(`Frame with id \"${frame.meta.id}\" already defined`)\n    }\n\n    // add to id list\n    if ( frame.meta.id ){\n      this.framesById[ frame.meta.id ] = frame\n    }\n\n    this.frames.push( frame )\n    this.refreshTimeline()\n\n    return this\n  }\n\n  refreshTimeline(){\n    this.timeline = createTimeline( this._schema, this.frames )\n    return this\n  }\n\n  // toggle user meddling\n  meddle( meddleState, { relaxDuration, relaxDelay, freeze } = {} ){\n    relaxDelay = relaxDelay || this.options.meddleRelaxDelay\n    relaxDuration = relaxDuration || this.options.meddleRelaxDuration\n\n    this._meddle.state = { ...this._meddle.state, ...meddleState }\n    this._meddle.startTime = false\n    this._meddle.endState = null\n    this._meddle.active = true\n    this._meddle.freeze = freeze\n    this._meddle.relaxDelay = relaxDelay\n    this._meddle.relaxDuration = relaxDuration\n\n    return this\n  }\n\n  // force meddling to reset\n  unmeddle(){\n    this._meddle = { state: {} }\n    return this\n  }\n\n  getFrame( id ){\n    let frame = this.framesById[id]\n\n    if ( !frame ){\n      throw new Error(`No frame with id \"${id}\" exists to be inherited`)\n    }\n\n    return frame\n  }\n\n  seek( timeOrId ){\n    if ( typeof timeOrId === 'string' ){\n      let frame = this.getFrame( timeOrId )\n\n      return this.seek( frame.meta.time )\n    }\n\n    this.time = timeOrId\n\n    let state = this.getStateAt( this.time )\n\n    // check meddling\n    if ( this._meddle.active ){\n      let meddle = this._meddle\n\n      if ( !meddle.freeze && meddle.startTime === false ){\n        meddle.startTime = this.time\n        meddle.endTime = meddle.startTime + meddle.relaxDelay + meddle.relaxDuration\n        meddle.endState = util.pick(\n          this.getStateAt( meddle.endTime )\n          , Object.keys(meddle.state)\n        )\n      }\n\n      if ( !meddle.freeze &&\n        (this.time >= meddle.endTime || this.time < meddle.startTime)\n      ){\n        // meddling is over\n        this.unmeddle()\n      }\n\n      if ( this.time >= this.totalTime ){\n        // this will force a reset when the timeline is re-entered\n        meddle.startTime = this.totalTime\n      }\n\n      if ( meddle.freeze ){\n\n        Object.assign( state, this._meddle.state )\n\n      } else {\n\n        let timeFraction = getTimeFraction(\n          meddle.startTime + meddle.relaxDelay\n          , meddle.endTime\n          , this.time\n        )\n\n        let meddleTransitionState = getInterpolatedState(\n          this._schema\n          , meddle.state\n          , meddle.endState\n          , timeFraction\n        )\n\n        Object.assign( state, meddleTransitionState )\n      }\n    }\n\n    // set state\n    this._state = state\n    this.emit('seek')\n    return this\n  }\n\n  getStateAt( time ){\n    if ( time >= this.totalTime ){\n      let m = this.timeline[this.timeline.length - 1]\n      let t = m.transition\n\n      return { ...m.state, ...t.endState }\n    }\n\n    let transitions = getTransitionsAtTime( this.timeline, time )\n    let startState = getStartState( this.timeline, time, this._defaultState )\n\n    return reduceTransitions( this._schema, transitions, time, startState )\n  }\n\n  to( timeOrId ){\n    // transition to time, or frame id\n  }\n\n  step(){\n    let now = util.now()\n    let clockTime = this._clockTime || now\n    let playbackRate = this.options.playbackRate\n    let dt = now - clockTime\n    let time = this.time\n    let totalTime = this.totalTime\n\n    this._clockTime = now\n\n    // if it's paused, don't step\n    if ( this.paused ){\n      dt = 0\n    }\n\n    time += dt * playbackRate\n\n    if ( time >= totalTime ){\n      time = totalTime\n    }\n\n    this.seek( time )\n\n    this.emit('step')\n    return this\n  }\n\n  next(){\n    // transition like slideshow\n  }\n\n  back(){\n    // transition back like slideshow\n  }\n\n  getTransitions( time ){\n    time = time || this.time\n    return getTransitionsAtTime( this.timeline, time )\n  }\n}\n","const timeDecReg = /([0-9.]+)(s|m|h)?/\nconst timeStdReg = /((\\d\\d):)?((\\d\\d):(\\d\\d))/\nconst MINUTES = 60\nconst HOURS = 60 * 60\n\nfunction getTime( h, m, s ){\n  h = parseFloat( h || 0 )\n  m = parseFloat( m || 0 )\n  s = parseFloat( s || 0 )\n  return Math.round( (h * HOURS + m * MINUTES + s) * 1000 ) // integer\n}\n\n// returns parsed time in ms\nexport function timeParser( strOrNumber ){\n  if ( typeof strOrNumber !== 'string' ){\n    return strOrNumber\n  }\n\n  let parsed = strOrNumber.match(timeStdReg)\n\n  if ( parsed ){\n    return getTime( parsed[2], parsed[4], parsed[5] )\n  }\n\n  parsed = strOrNumber.match(timeDecReg)\n\n  if ( parsed ){\n    let unit = ('' + parsed[2]).toLowerCase()\n\n    if ( !parsed[1] || unit === 's' ){\n      return getTime( 0, 0, parsed[1] )\n    }\n\n    if ( unit === 'm' ){\n      return getTime( 0, parsed[1], 0 )\n    }\n\n    if ( unit === 'h' ){\n      return getTime( parsed[1], 0, 0 )\n    }\n  }\n\n  return 0\n}\n","import Easing from 'easing-functions'\nimport Interpolators from '@/interpolators'\n\nfunction getType( val ){\n  let type = typeof val\n\n  if ( type === 'string' ){\n    return val\n  }\n\n  if ( val === Number || type === 'number' ){\n    return 'number'\n  }\n\n  if ( val === Boolean || type === 'boolean' ){\n    return 'boolean'\n  }\n\n  if ( val === String ){\n    return 'string'\n  }\n\n  if ( val === Array || Array.isArray( val ) ){\n    return 'array'\n  }\n\n  if ( val === Object || type === 'object' ){\n    return 'object'\n  }\n\n  return type\n}\n\nfunction getDefaultValue( def ){\n  let val = def.type === undefined ? def : def.type\n  let type = typeof val\n\n  if ( Number.isFinite( val ) ){\n    return val\n  }\n\n  // non-specific defaults\n  if ( val === Number ){\n    return 0\n  }\n\n  if ( val === Boolean ){\n    return false\n  }\n\n  if ( val === String ){\n    return ''\n  }\n\n  if ( val === Array ){\n    return []\n  }\n\n  if ( val === Object ){\n    return {}\n  }\n\n  // specific defaults\n  if ( Array.isArray( val ) ){\n    return val.map( getDefaultValue )\n  }\n\n  if ( type === 'object' ){\n    let ret = {}\n    let keys = Object.keys(val)\n\n    for ( let k of keys ){\n      ret[ k ] = getDefaultValue( val[k] )\n    }\n\n    return ret\n  }\n\n  return val\n}\n\nexport function createSchema( schemaDef, defaultEasing = Easing.Linear.None ){\n  let schema = {}\n  let props = Object.keys( schemaDef )\n\n  for ( let prop of props ){\n    let def = schemaDef[ prop ]\n    let easing = defaultEasing\n    let interpolator = null\n    let type\n    let defaultVal\n\n    if ( typeof def === 'object' && def.type !== undefined ){\n      type = getType( def.type )\n      easing = def.easing || defaultEasing\n      interpolator = def.interpolator || null\n      defaultVal = def.default\n\n    } else {\n      type = getType( def )\n    }\n\n    if ( type === 'array' ){\n      interpolator = interpolator || Interpolators.Array\n    }\n\n    if ( defaultVal === undefined ){\n      defaultVal = getDefaultValue( def )\n    }\n\n    schema[ prop ] = {\n      type\n      , easing\n      , default: defaultVal\n      , interpolator: interpolator || Interpolators.Linear\n      , def\n    }\n  }\n\n  return schema\n}\n\nexport function createState( schema ){\n  let state = {}\n  let props = Object.keys( schema )\n\n  for ( let prop of props ){\n    state[ prop ] = schema[ prop ].default\n  }\n\n  return state\n}\n","import util from '@/util'\nimport { createState } from '@/schema'\nimport { getInterpolatedState, createTransitionFromFrame, getTimeFraction } from '@/transition'\n\n// Check for conflicting overlaps\n// ---------------------------------------\nfunction getConflictingFrames( timeline ){\n  let markers = []\n  let idx\n\n  for ( let l = timeline.length, i = 0; i < l; i++ ){\n    let m = timeline[ i ]\n\n    if ( m.type === 'start' ){\n      markers.push( m )\n    } else {\n      // stop tracking its partner\n      idx = markers.indexOf( m.start )\n      markers.splice( idx, 1 )\n    }\n\n    for ( let l = markers.length, i = 0; i < l; i++ ){\n      let m = markers[ i ]\n\n      for ( let j = i + 1; j < l; j++ ){\n        let paths = util.getIntersectingPaths(\n          m.transition.endState\n          , markers[ j ].transition.endState\n        )\n\n        if ( paths.length ){\n          return {\n            paths\n            , frames: [\n              m.frame\n              , markers[ j ].frame\n            ]\n          }\n        }\n      }\n    }\n  }\n\n  return false\n}\n\n// Create a timeline array from specified frames\n// ---------------------------------------\nexport function createTimeline( schema, frames = [] ){\n\n  if ( !frames.length ){ return [] }\n\n  const getTime = v => v.time\n  let defaultState = createState( schema )\n  let timeline = []\n\n  frames.forEach( frame => {\n    let idx\n    let start = { type: 'start', frame, time: frame.meta.time - frame.meta.duration }\n    let end = { type: 'end', frame, time: frame.meta.time }\n\n    start.end = end\n    end.start = start\n\n    idx = util.sortedIndex( timeline, start, getTime )\n    timeline.splice( idx, 0, start )\n\n    idx = util.sortedIndex( timeline, end, getTime )\n    timeline.splice( idx, 0, end )\n  })\n\n  timeline.sort( (a, b) => {\n    if ( a.time === b.time ){\n      return a.type > b.type ? 1 : -1\n    }\n\n    return 0\n  })\n\n  let prevState = defaultState\n\n  // assign inherited states\n  timeline.forEach( (m, idx) => {\n    // only go through ends\n    if ( m.type !== 'end' ){ return }\n\n    let transition = createTransitionFromFrame( m.frame, prevState )\n\n    m.transition = transition\n    m.start.transition = transition\n\n    prevState = { ...prevState, ...transition.endState }\n  })\n\n  prevState = defaultState\n\n  // assign a reduced end state to each marker\n  timeline.forEach( m => {\n    if ( m.type !== 'end' ){ return }\n\n    let transitions = getTransitionsAtTime( timeline, m.time )\n\n    prevState = reduceTransitions( schema, transitions, m.time, prevState )\n    m.state = prevState\n  })\n\n  let conflicts = getConflictingFrames( timeline )\n\n  if ( conflicts ){\n    throw new Error('The following overlapping frames modify the same state paths:\\n' +\n      `paths: ${conflicts.paths}\\n` +\n      `frames: ${JSON.stringify(conflicts.frames, null, 2)}`\n    )\n  }\n\n  return timeline\n}\n\n// Get transition information needed\n// at specified time from timeline\n// ---------------------------------------\nexport function getTransitionsAtTime( timeline, time ){\n  let markers = []\n  let idx\n\n  for ( let l = timeline.length, i = 0; i < l; i++ ){\n    let m = timeline[ i ]\n\n    if ( m.time >= time ){\n      break\n    }\n\n    if ( m.type === 'start' ){\n      markers.push( m )\n    } else {\n      // stop tracking its partner\n      idx = markers.indexOf( m.start )\n      markers.splice( idx, 1 )\n    }\n  }\n\n  return markers.map(a => a.transition)\n}\n\n// Get the cached complete state at the\n// last end marker\n// ---------------------------------------\nexport function getStartState( timeline, time, defaultState ){\n  let state = defaultState\n\n  for ( let l = timeline.length, i = 0; i < l; i++ ){\n    let m = timeline[ i ]\n\n    if ( m.time > time ){\n      return state\n    }\n\n    if ( m.type === 'end' ){\n      state = m.state\n    }\n  }\n\n  return state\n}\n\n// Get final state from transitions\n// ---------------------------------------\nexport function reduceTransitions( schema, transitions = [], time = 0, initialState = {} ){\n  return transitions.reduce( (state, tr) => {\n    let progress = getTimeFraction( tr.startTime, tr.endTime, time )\n\n    return Object.assign(\n      state\n      , getInterpolatedState( schema, tr.startState, tr.endState, progress )\n    )\n  }, { ...initialState })\n}\n","import util from '@/util'\n\nexport function createTransitionFromFrame( frame, previousState ){\n  let startTime = frame.meta.time - frame.meta.duration\n  let endTime = frame.meta.time\n  let endState = frame.state\n  let startState = util.pick( previousState, Object.keys(endState) )\n\n  return {\n    startTime\n    , endTime\n    , startState\n    , endState\n    , frame\n  }\n}\n\nexport function interpolateProperty( fn, from, to, progress ){\n  return fn( from, to, progress )\n}\n\nexport function getInterpolatedState( schema, startState, endState, timeFraction ){\n\n  if ( timeFraction <= 0 ){\n    return { ...startState }\n  }\n\n  if ( timeFraction >= 1 ){\n    return { ...endState }\n  }\n\n  let nextState = { ...startState }\n\n  for ( let prop in endState ){\n    let def = schema[prop]\n    let val\n\n    if ( !def ){\n      // not specified in schema. just set\n      val = endState[ prop ]\n    } else {\n\n      let progress = def.easing( timeFraction )\n\n      val = interpolateProperty(\n        def.interpolator\n        , nextState[ prop ]\n        , endState[ prop ]\n        , progress\n      )\n    }\n\n    nextState[ prop ] = val\n  }\n\n  return nextState\n}\n\nexport function getTimeFraction( startTime, endTime, time ){\n  let duration = endTime - startTime\n\n  return util.clamp(0, 1, (time - startTime) / duration)\n}\n","const util = {}\nconst identity = a => a\n\n// From js - https://github.com/tweenjs/tween.js/blob/master/src/Tween.js\n// Include a performance.now polyfill.\n// In node.js, use process.hrtime.\nif (typeof (window) === 'undefined' && typeof (process) !== 'undefined') {\n  util.now = function now() {\n    var time = process.hrtime()\n\n    // Convert [seconds, nanoseconds] to milliseconds.\n    return time[0] * 1000 + time[1] / 1000000\n  }\n} else if (typeof (window) !== 'undefined' &&\n    window.performance !== undefined &&\n    window.performance.now !== undefined ) {\n  // In a browser, use window.performance.now if it is available.\n  // This must be bound, because directly assigning this function\n  // leads to an invocation exception in Chrome.\n  util.now = window.performance.now.bind(window.performance)\n} else if (Date.now !== undefined) {\n  // Use Date.now if it is available.\n  util.now = Date.now\n} else {\n  // Otherwise, use 'new Date().getTime()'.\n  util.now = function now() {\n    return new Date().getTime()\n  }\n}\n\n// clamp\nutil.clamp = function( min, max, v ){\n  return Math.min(Math.max(v, min), max)\n}\n\n/**\n * util.sortedIndex( array, value[, callback] ) -> Number\n * - array (Array): The array to inspect\n * - value (Mixed): The value to evaluate\n * - callback (Function): Function called per iteration\n *\n * Implementation of [lodash.sortedIndex](http://lodash.com/docs#sortedIndex).\n **/\nutil.sortedIndex = function( array, value, callback ) {\n  let low = 0\n  let high = array ? array.length : low\n\n  // explicitly reference `identity` for better inlining in Firefox\n  callback = callback || identity\n  value = callback(value)\n\n  while (low < high) {\n    let mid\n\n    mid = (low + high) >>> 1\n    if ( callback(array[mid]) < value ){\n      low = mid + 1\n    } else {\n      high = mid\n    }\n  }\n\n  return low\n}\n\nutil.pick = function( obj, keys = [] ){\n  return keys.reduce( (out, k) => {\n    out[k] = obj[k]\n    return out\n  }, {})\n}\n\nutil.getIntersectingPaths = function ( o1, o2 ){\n  return Object.keys(o1).filter(\n    Object.prototype.hasOwnProperty.bind( o2 )\n  )\n}\n\nexport default util\n"],"sourceRoot":""}