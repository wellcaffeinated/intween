/**
 * InTween 1.0.0-beta.4
 * @license MIT
 * Copyright 2021-present Jasper Palfree
 */
!function(t,e){"object"==typeof exports&&"undefined"!=typeof module?e(exports):"function"==typeof define&&define.amd?define(["exports"],e):e((t="undefined"!=typeof globalThis?globalThis:t||self).InTween={})}(this,(function(t){"use strict";const e=t=>t,r=Function.prototype.toString.call(Object),n=Object.prototype.toString,i=t=>n.call(t).slice(8,-1),o="undefined"==typeof window&&"undefined"!=typeof process?function(){var t=process.hrtime();return 1e3*t[0]+t[1]/1e6}:"undefined"!=typeof window&&void 0!==window.performance&&void 0!==window.performance.now?window.performance.now.bind(window.performance):void 0!==Date.now?Date.now:function(){return(new Date).getTime()},s=function(t,e,r){return t*(1-r)+e*r},u=function(t,e,r){const n=e-t;return n?(r-t)/n:1},a=function(t,e,r){return Math.min(Math.max(r,t),e)},c=function(t,e,r){return a(0,1,u(t,e,r))},l=t=>{if("function"==typeof t)return t;const e=Array.isArray(t)?[]:{};for(const r in t){const n=t[r],o=i(n);e[r]="Array"===o||"Object"===o?l(n):"Date"===o?new Date(n.getTime()):n}return e},f=t=>null!==t&&"object"==typeof t,h=t=>{if(!f(t))return!1;const e=Object.getPrototypeOf(t);if(null===e)return!0;const n=hasOwnProperty.call(e,"constructor")&&e.constructor;return"function"==typeof n&&n instanceof n&&Function.prototype.toString.call(n)===r},p=function(t,e){const r={};for(const n in t){const i=t[n];e(i,n)&&(r[n]=i)}return r},m=function(t){return p(t,(t=>void 0!==t))},d=function(t,e){const r={};for(const n in t)r[n]=e(t[n],n);return r},b=function(t,e=[]){if(!e)return{...t};const r={};for(const n of e)r[n]=t[n];return r},y=function(t,r,n,i){let o=0,s=t?t.length:o;for(r=(n=n||e)(r);o<s;){const e=o+s>>>1,u=n(t[e]);(i?u<=r:u<r)?o=e+1:s=e}return o},g=function(t,e){return Object.keys(t).filter(Object.prototype.hasOwnProperty.bind(e))};function v(t,e,r){const n=(e-t)/r,i=Math.floor(n),o=n-i;return(o+(o>.5?-1:o<-.5?1:0)+i)*r}const _=(...t)=>{const e=t.length;if(1===e)return t[0];const r=1/e;return n=>{const i=n*e,o=a(0,e-1,Math.floor(i));return(t[o](i-o)+o)*r}};function w(t){return 0===t.length?e:1===t.length?t[0]:function(e){return t.reduce(((t,e)=>e(t)),e)}}function O(...t){return w(t)}var T="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function S(t,e){return t(e={exports:{}},e.exports),e.exports}var j,I,x=function(t){return t&&t.Math==Math&&t},E=x("object"==typeof globalThis&&globalThis)||x("object"==typeof window&&window)||x("object"==typeof self&&self)||x("object"==typeof T&&T)||function(){return this}()||Function("return this")(),k=E,P=function(t){return Object(function(t){if(null==t)throw TypeError("Can't call method on "+t);return t}(t))},M={}.hasOwnProperty,A=Object.hasOwn||function(t,e){return M.call(P(t),e)},L="__core-js_shared__",D=E[L]||function(t,e){try{Object.defineProperty(E,t,{value:e,configurable:!0,writable:!0})}catch(r){E[t]=e}return e}(L,{}),C=S((function(t){(t.exports=function(t,e){return D[t]||(D[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.17.3",mode:"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),F=0,R=Math.random(),q=function(t){return"function"==typeof t?t:void 0},z=function(t,e){return arguments.length<2?q(E[t]):E[t]&&E[t][e]},N=z("navigator","userAgent")||"",B=E.process,G=E.Deno,$=B&&B.versions||G&&G.version,U=$&&$.v8;U?I=(j=U.split("."))[0]<4?1:j[0]+j[1]:N&&(!(j=N.match(/Edge\/(\d+)/))||j[1]>=74)&&(j=N.match(/Chrome\/(\d+)/))&&(I=j[1]);var V=I&&+I,H=function(t){try{return!!t()}catch(t){return!0}},W=!!Object.getOwnPropertySymbols&&!H((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&V&&V<41})),Y=W&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,J=C("wks"),X=E.Symbol,K=Y?X:X&&X.withoutSetter||function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++F+R).toString(36)},Q=function(t){return A(J,t)&&(W||"string"==typeof J[t])||(W&&A(X,t)?J[t]=X[t]:J[t]=K("Symbol."+t)),J[t]},Z={f:Q},tt=!H((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),et=function(t){return"object"==typeof t?null!==t:"function"==typeof t},rt=E.document,nt=et(rt)&&et(rt.createElement),it=!tt&&!H((function(){return 7!=Object.defineProperty((t="div",nt?rt.createElement(t):{}),"a",{get:function(){return 7}}).a;var t})),ot=function(t){if(!et(t))throw TypeError(String(t)+" is not an object");return t},st=Y?function(t){return"symbol"==typeof t}:function(t){var e=z("Symbol");return"function"==typeof e&&Object(t)instanceof e},ut=Q("toPrimitive"),at=function(t,e){if(!et(t)||st(t))return t;var r,n=t[ut];if(void 0!==n){if(void 0===e&&(e="default"),r=n.call(t,e),!et(r)||st(r))return r;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var r,n;if("string"===e&&"function"==typeof(r=t.toString)&&!et(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!et(n=r.call(t)))return n;if("string"!==e&&"function"==typeof(r=t.toString)&&!et(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}(t,e)},ct=Object.defineProperty,lt={f:tt?ct:function(t,e,r){var n;if(ot(t),n=at(e,"string"),e=st(n)?n:String(n),ot(r),it)try{return ct(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}}.f;!function(t){var e=k.Symbol||(k.Symbol={});A(e,t)||lt(e,t,{value:Z.f(t)})}("observable"),Z.f("observable");var ft,ht,pt=function(t){return t&&t.Math==Math&&t},mt=pt("object"==typeof globalThis&&globalThis)||pt("object"==typeof window&&window)||pt("object"==typeof self&&self)||pt("object"==typeof T&&T)||function(){return this}()||Function("return this")(),dt=function(t){try{return!!t()}catch(t){return!0}},bt=!dt((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]})),yt={}.propertyIsEnumerable,gt=Object.getOwnPropertyDescriptor,vt={f:gt&&!yt.call({1:2},1)?function(t){var e=gt(this,t);return!!e&&e.enumerable}:yt},_t=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},wt={}.toString,Ot=function(t){return wt.call(t).slice(8,-1)},Tt="".split,St=dt((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==Ot(t)?Tt.call(t,""):Object(t)}:Object,jt=function(t){if(null==t)throw TypeError("Can't call method on "+t);return t},It=function(t){return St(jt(t))},xt=function(t){return"object"==typeof t?null!==t:"function"==typeof t},Et={},kt=function(t){return"function"==typeof t?t:void 0},Pt=function(t,e){return arguments.length<2?kt(Et[t])||kt(mt[t]):Et[t]&&Et[t][e]||mt[t]&&mt[t][e]},Mt=Pt("navigator","userAgent")||"",At=mt.process,Lt=mt.Deno,Dt=At&&At.versions||Lt&&Lt.version,Ct=Dt&&Dt.v8;Ct?ht=(ft=Ct.split("."))[0]<4?1:ft[0]+ft[1]:Mt&&(!(ft=Mt.match(/Edge\/(\d+)/))||ft[1]>=74)&&(ft=Mt.match(/Chrome\/(\d+)/))&&(ht=ft[1]);var Ft=ht&&+ht,Rt=!!Object.getOwnPropertySymbols&&!dt((function(){var t=Symbol();return!String(t)||!(Object(t)instanceof Symbol)||!Symbol.sham&&Ft&&Ft<41})),qt=Rt&&!Symbol.sham&&"symbol"==typeof Symbol.iterator,zt=qt?function(t){return"symbol"==typeof t}:function(t){var e=Pt("Symbol");return"function"==typeof e&&Object(t)instanceof e},Nt="__core-js_shared__",Bt=mt[Nt]||function(t,e){try{Object.defineProperty(mt,t,{value:e,configurable:!0,writable:!0})}catch(r){mt[t]=e}return e}(Nt,{}),Gt=S((function(t){(t.exports=function(t,e){return Bt[t]||(Bt[t]=void 0!==e?e:{})})("versions",[]).push({version:"3.16.0",mode:"pure",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})})),$t=function(t){return Object(jt(t))},Ut={}.hasOwnProperty,Vt=Object.hasOwn||function(t,e){return Ut.call($t(t),e)},Ht=0,Wt=Math.random(),Yt=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++Ht+Wt).toString(36)},Jt=Gt("wks"),Xt=mt.Symbol,Kt=qt?Xt:Xt&&Xt.withoutSetter||Yt,Qt=function(t){return Vt(Jt,t)&&(Rt||"string"==typeof Jt[t])||(Rt&&Vt(Xt,t)?Jt[t]=Xt[t]:Jt[t]=Kt("Symbol."+t)),Jt[t]},Zt=Qt("toPrimitive"),te=function(t,e){if(!xt(t)||zt(t))return t;var r,n=t[Zt];if(void 0!==n){if(void 0===e&&(e="default"),r=n.call(t,e),!xt(r)||zt(r))return r;throw TypeError("Can't convert object to primitive value")}return void 0===e&&(e="number"),function(t,e){var r,n;if("string"===e&&"function"==typeof(r=t.toString)&&!xt(n=r.call(t)))return n;if("function"==typeof(r=t.valueOf)&&!xt(n=r.call(t)))return n;if("string"!==e&&"function"==typeof(r=t.toString)&&!xt(n=r.call(t)))return n;throw TypeError("Can't convert object to primitive value")}(t,e)},ee=function(t){var e=te(t,"string");return zt(e)?e:String(e)},re=mt.document,ne=xt(re)&&xt(re.createElement),ie=function(t){return ne?re.createElement(t):{}},oe=!bt&&!dt((function(){return 7!=Object.defineProperty(ie("div"),"a",{get:function(){return 7}}).a})),se=Object.getOwnPropertyDescriptor,ue={f:bt?se:function(t,e){if(t=It(t),e=ee(e),oe)try{return se(t,e)}catch(t){}if(Vt(t,e))return _t(!vt.f.call(t,e),t[e])}},ae=/#|\.prototype\./,ce=function(t,e){var r=fe[le(t)];return r==pe||r!=he&&("function"==typeof e?dt(e):!!e)},le=ce.normalize=function(t){return String(t).replace(ae,".").toLowerCase()},fe=ce.data={},he=ce.NATIVE="N",pe=ce.POLYFILL="P",me=ce,de=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t},be=function(t,e,r){if(de(t),void 0===e)return t;switch(r){case 0:return function(){return t.call(e)};case 1:return function(r){return t.call(e,r)};case 2:return function(r,n){return t.call(e,r,n)};case 3:return function(r,n,i){return t.call(e,r,n,i)}}return function(){return t.apply(e,arguments)}},ye=function(t){if(!xt(t))throw TypeError(String(t)+" is not an object");return t},ge=Object.defineProperty,ve={f:bt?ge:function(t,e,r){if(ye(t),e=ee(e),ye(r),oe)try{return ge(t,e,r)}catch(t){}if("get"in r||"set"in r)throw TypeError("Accessors not supported");return"value"in r&&(t[e]=r.value),t}},_e=bt?function(t,e,r){return ve.f(t,e,_t(1,r))}:function(t,e,r){return t[e]=r,t},we=ue.f,Oe=function(t){var e=function(e,r,n){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,r)}return new t(e,r,n)}return t.apply(this,arguments)};return e.prototype=t.prototype,e},Te=function(t,e){var r,n,i,o,s,u,a,c,l=t.target,f=t.global,h=t.stat,p=t.proto,m=f?mt:h?mt[l]:(mt[l]||{}).prototype,d=f?Et:Et[l]||(Et[l]={}),b=d.prototype;for(i in e)r=!me(f?i:l+(h?".":"#")+i,t.forced)&&m&&Vt(m,i),s=d[i],r&&(u=t.noTargetGet?(c=we(m,i))&&c.value:m[i]),o=r&&u?u:e[i],r&&typeof s==typeof o||(a=t.bind&&r?be(o,mt):t.wrap&&r?Oe(o):p&&"function"==typeof o?be(Function.call,o):o,(t.sham||o&&o.sham||s&&s.sham)&&_e(a,"sham",!0),d[i]=a,p&&(Vt(Et,n=l+"Prototype")||_e(Et,n,{}),Et[n][i]=o,t.real&&b&&!b[i]&&_e(b,i,o)))},Se=Qt("species"),je=function(t,e,r,n){n&&n.enumerable?t[e]=r:_e(t,e,r)},Ie=function(t,e,r){for(var n in e)r&&r.unsafe&&t[n]?t[n]=e[n]:je(t,n,e[n],r);return t},xe={};xe[Qt("toStringTag")]="z";var Ee="[object z]"===String(xe),ke=Qt("toStringTag"),Pe="Arguments"==Ot(function(){return arguments}()),Me=Ee?Ot:function(t){var e,r,n;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(r=function(t,e){try{return t[e]}catch(t){}}(e=Object(t),ke))?r:Pe?Ot(e):"Object"==(n=Ot(e))&&"function"==typeof e.callee?"Arguments":n},Ae={},Le=Qt("iterator"),De=function(t){if(null!=t)return t[Le]||t["@@iterator"]||Ae[Me(t)]},Ce=Qt("iterator"),Fe=Array.prototype,Re=Math.ceil,qe=Math.floor,ze=function(t){return isNaN(t=+t)?0:(t>0?qe:Re)(t)},Ne=Math.min,Be=function(t){return t>0?Ne(ze(t),9007199254740991):0},Ge=function(t){var e=t.return;if(void 0!==e)return ye(e.call(t)).value},$e=function(t,e){this.stopped=t,this.result=e},Ue=function(t,e,r){var n,i,o,s,u,a,c,l,f=r&&r.that,h=!(!r||!r.AS_ENTRIES),p=!(!r||!r.IS_ITERATOR),m=!(!r||!r.INTERRUPTED),d=be(e,f,1+h+m),b=function(t){return n&&Ge(n),new $e(!0,t)},y=function(t){return h?(ye(t),m?d(t[0],t[1],b):d(t[0],t[1])):m?d(t,b):d(t)};if(p)n=t;else{if("function"!=typeof(i=De(t)))throw TypeError("Target is not iterable");if(void 0!==(l=i)&&(Ae.Array===l||Fe[Ce]===l)){for(o=0,s=Be(t.length);s>o;o++)if((u=y(t[o]))&&u instanceof $e)return u;return new $e(!1)}n=i.call(t)}for(a=n.next;!(c=a.call(n)).done;){try{u=y(c.value)}catch(t){throw Ge(n),t}if("object"==typeof u&&u&&u instanceof $e)return u}return new $e(!1)},Ve=function(t,e){var r=mt.console;r&&r.error&&(1===arguments.length?r.error(t):r.error(t,e))},He=Function.toString;"function"!=typeof Bt.inspectSource&&(Bt.inspectSource=function(t){return He.call(t)});var We,Ye,Je,Xe=Bt.inspectSource,Ke=mt.WeakMap,Qe="function"==typeof Ke&&/native code/.test(Xe(Ke)),Ze=Gt("keys"),tr=function(t){return Ze[t]||(Ze[t]=Yt(t))},er={},rr="Object already initialized",nr=mt.WeakMap;if(Qe||Bt.state){var ir=Bt.state||(Bt.state=new nr),or=ir.get,sr=ir.has,ur=ir.set;We=function(t,e){if(sr.call(ir,t))throw new TypeError(rr);return e.facade=t,ur.call(ir,t,e),e},Ye=function(t){return or.call(ir,t)||{}},Je=function(t){return sr.call(ir,t)}}else{var ar=tr("state");er[ar]=!0,We=function(t,e){if(Vt(t,ar))throw new TypeError(rr);return e.facade=t,_e(t,ar,e),e},Ye=function(t){return Vt(t,ar)?t[ar]:{}},Je=function(t){return Vt(t,ar)}}var cr={set:We,get:Ye,has:Je,enforce:function(t){return Je(t)?Ye(t):We(t,{})},getterFor:function(t){return function(e){var r;if(!xt(e)||(r=Ye(e)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return r}}},lr=ve.f,fr=Qt("observable"),hr=cr.get,pr=cr.set,mr=function(t){return null==t?void 0:de(t)},dr=function(t){var e=t.cleanup;if(e){t.cleanup=void 0;try{e()}catch(t){Ve(t)}}},br=function(t){return void 0===t.observer},yr=function(t){var e=t.facade;if(!bt){e.closed=!0;var r=t.subscriptionObserver;r&&(r.closed=!0)}t.observer=void 0},gr=function(t,e){var r,n=pr(this,{cleanup:void 0,observer:ye(t),subscriptionObserver:void 0});bt||(this.closed=!1);try{(r=mr(t.start))&&r.call(t,this)}catch(t){Ve(t)}if(!br(n)){var i=n.subscriptionObserver=new vr(this);try{var o=e(i),s=o;null!=o&&(n.cleanup="function"==typeof o.unsubscribe?function(){s.unsubscribe()}:de(o))}catch(t){return void i.error(t)}br(n)&&dr(n)}};gr.prototype=Ie({},{unsubscribe:function(){var t=hr(this);br(t)||(yr(t),dr(t))}}),bt&&lr(gr.prototype,"closed",{configurable:!0,get:function(){return br(hr(this))}});var vr=function(t){pr(this,{subscription:t}),bt||(this.closed=!1)};vr.prototype=Ie({},{next:function(t){var e=hr(hr(this).subscription);if(!br(e)){var r=e.observer;try{var n=mr(r.next);n&&n.call(r,t)}catch(t){Ve(t)}}},error:function(t){var e=hr(hr(this).subscription);if(!br(e)){var r=e.observer;yr(e);try{var n=mr(r.error);n?n.call(r,t):Ve(t)}catch(t){Ve(t)}dr(e)}},complete:function(){var t=hr(hr(this).subscription);if(!br(t)){var e=t.observer;yr(t);try{var r=mr(e.complete);r&&r.call(e)}catch(t){Ve(t)}dr(t)}}}),bt&&lr(vr.prototype,"closed",{configurable:!0,get:function(){return br(hr(hr(this).subscription))}});var _r=function(t){!function(t,e,r){if(!(t instanceof e))throw TypeError("Incorrect "+(r?r+" ":"")+"invocation")}(this,_r,"Observable"),pr(this,{subscriber:de(t)})};Ie(_r.prototype,{subscribe:function(t){var e=arguments.length;return new gr("function"==typeof t?{next:t,error:e>1?arguments[1]:void 0,complete:e>2?arguments[2]:void 0}:xt(t)?t:{},hr(this).subscriber)}}),Ie(_r,{from:function(t){var e="function"==typeof this?this:_r,r=mr(ye(t)[fr]);if(r){var n=ye(r.call(t));return n.constructor===e?n:new e((function(t){return n.subscribe(t)}))}var i=function(t){var e=De(t);if("function"!=typeof e)throw TypeError(String(t)+" is not iterable");return ye(e.call(t))}(t);return new e((function(t){Ue(i,(function(e,r){if(t.next(e),t.closed)return r()}),{IS_ITERATOR:!0,INTERRUPTED:!0}),t.complete()}))},of:function(){for(var t="function"==typeof this?this:_r,e=arguments.length,r=new Array(e),n=0;n<e;)r[n]=arguments[n++];return new t((function(t){for(var n=0;n<e;n++)if(t.next(r[n]),t.closed)return;t.complete()}))}}),_e(_r.prototype,fr,(function(){return this})),Te({global:!0},{Observable:_r}),function(t){var e=Pt(t),r=ve.f;bt&&e&&!e[Se]&&r(e,Se,{configurable:!0,get:function(){return this}})}("Observable");var wr={f:Qt},Or=ve.f;!function(t){var e=Et.Symbol||(Et.Symbol={});Vt(e,t)||Or(e,t,{value:wr.f(t)})}("observable");var Tr,Sr,jr,Ir=function(t){if(zt(t))throw TypeError("Cannot convert a Symbol value to a string");return String(t)},xr=function(t){return function(e,r){var n,i,o=Ir(jt(e)),s=ze(r),u=o.length;return s<0||s>=u?t?"":void 0:(n=o.charCodeAt(s))<55296||n>56319||s+1===u||(i=o.charCodeAt(s+1))<56320||i>57343?t?o.charAt(s):n:t?o.slice(s,s+2):i-56320+(n-55296<<10)+65536}},Er={codeAt:xr(!1),charAt:xr(!0)},kr=!dt((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype})),Pr=tr("IE_PROTO"),Mr=Object.prototype,Ar=kr?Object.getPrototypeOf:function(t){return t=$t(t),Vt(t,Pr)?t[Pr]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?Mr:null},Lr=Qt("iterator"),Dr=!1;[].keys&&("next"in(jr=[].keys())?(Sr=Ar(Ar(jr)))!==Object.prototype&&(Tr=Sr):Dr=!0);var Cr=null==Tr||dt((function(){var t={};return Tr[Lr].call(t)!==t}));Cr&&(Tr={}),Cr&&!Vt(Tr,Lr)&&_e(Tr,Lr,(function(){return this}));var Fr,Rr={IteratorPrototype:Tr,BUGGY_SAFARI_ITERATORS:Dr},qr=Math.max,zr=Math.min,Nr=function(t){return function(e,r,n){var i,o=It(e),s=Be(o.length),u=function(t,e){var r=ze(t);return r<0?qr(r+e,0):zr(r,e)}(n,s);if(t&&r!=r){for(;s>u;)if((i=o[u++])!=i)return!0}else for(;s>u;u++)if((t||u in o)&&o[u]===r)return t||u||0;return!t&&-1}},Br={includes:Nr(!0),indexOf:Nr(!1)}.indexOf,Gr=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"],$r=Object.keys||function(t){return function(t,e){var r,n=It(t),i=0,o=[];for(r in n)!Vt(er,r)&&Vt(n,r)&&o.push(r);for(;e.length>i;)Vt(n,r=e[i++])&&(~Br(o,r)||o.push(r));return o}(t,Gr)},Ur=bt?Object.defineProperties:function(t,e){ye(t);for(var r,n=$r(e),i=n.length,o=0;i>o;)ve.f(t,r=n[o++],e[r]);return t},Vr=Pt("document","documentElement"),Hr=tr("IE_PROTO"),Wr=function(){},Yr=function(t){return"<script>"+t+"</"+"script>"},Jr=function(t){t.write(Yr("")),t.close();var e=t.parentWindow.Object;return t=null,e},Xr=function(){try{Fr=new ActiveXObject("htmlfile")}catch(t){}Xr=document.domain&&Fr?Jr(Fr):function(){var t,e=ie("iframe");if(e.style)return e.style.display="none",Vr.appendChild(e),e.src=String("javascript:"),(t=e.contentWindow.document).open(),t.write(Yr("document.F=Object")),t.close(),t.F}()||Jr(Fr);for(var t=Gr.length;t--;)delete Xr.prototype[Gr[t]];return Xr()};er[Hr]=!0;var Kr=Object.create||function(t,e){var r;return null!==t?(Wr.prototype=ye(t),r=new Wr,Wr.prototype=null,r[Hr]=t):r=Xr(),void 0===e?r:Ur(r,e)},Qr=Ee?{}.toString:function(){return"[object "+Me(this)+"]"},Zr=ve.f,tn=Qt("toStringTag"),en=function(t,e,r,n){if(t){var i=r?t:t.prototype;Vt(i,tn)||Zr(i,tn,{configurable:!0,value:e}),n&&!Ee&&_e(i,"toString",Qr)}},rn=Rr.IteratorPrototype,nn=function(){return this};Object.setPrototypeOf||"__proto__"in{}&&function(){var t,e=!1,r={};try{(t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set).call(r,[]),e=r instanceof Array}catch(t){}}();var on=Rr.IteratorPrototype,sn=Rr.BUGGY_SAFARI_ITERATORS,un=Qt("iterator"),an="keys",cn="values",ln="entries",fn=function(){return this},hn=function(t,e,r,n,i,o,s){!function(t,e,r){var n=e+" Iterator";t.prototype=Kr(rn,{next:_t(1,r)}),en(t,n,!1,!0),Ae[n]=nn}(r,e,n);var u,a,c,l=function(t){if(t===i&&d)return d;if(!sn&&t in p)return p[t];switch(t){case an:case cn:case ln:return function(){return new r(this,t)}}return function(){return new r(this)}},f=e+" Iterator",h=!1,p=t.prototype,m=p[un]||p["@@iterator"]||i&&p[i],d=!sn&&m||l(i),b="Array"==e&&p.entries||m;if(b&&(u=Ar(b.call(new t)),on!==Object.prototype&&u.next&&(en(u,f,!0,!0),Ae[f]=fn)),i==cn&&m&&m.name!==cn&&(h=!0,d=function(){return m.call(this)}),s&&p[un]!==d&&_e(p,un,d),Ae[e]=d,i)if(a={values:l(cn),keys:o?d:l(an),entries:l(ln)},s)for(c in a)(sn||h||!(c in p))&&je(p,c,a[c]);else Te({target:e,proto:!0,forced:sn||h},a);return a},pn=Er.charAt,mn="String Iterator",dn=cr.set,bn=cr.getterFor(mn);hn(String,"String",(function(t){dn(this,{type:mn,string:Ir(t),index:0})}),(function(){var t,e=bn(this),r=e.string,n=e.index;return n>=r.length?{value:void 0,done:!0}:(t=pn(r,n),e.index+=t.length,{value:t,done:!1})}));var yn="Array Iterator",gn=cr.set,vn=cr.getterFor(yn);hn(Array,"Array",(function(t,e){gn(this,{type:yn,target:It(t),index:0,kind:e})}),(function(){var t=vn(this),e=t.target,r=t.kind,n=t.index++;return!e||n>=e.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==r?{value:n,done:!1}:"values"==r?{value:e[n],done:!1}:{value:[n,e[n]],done:!1}}),"values"),Ae.Arguments=Ae.Array;var _n=Qt("toStringTag");for(var wn in{CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}){var On=mt[wn],Tn=On&&On.prototype;Tn&&Me(Tn)!==_n&&_e(Tn,_n,wn),Ae[wn]=Ae.Array}var Sn=Et.Observable;class jn extends Sn{constructor(t){super(t||e)}pipe(...t){return w(t)(this)}lift(t){return new jn((e=>t.call(e,this)))}"@@observable"(){return this}}class In extends jn{constructor(...t){super(...t),this.closed=!1,this.observers=[]}unsubscribe(){this.isStopped=this.closed=!0,this.observers=null}next(t){if(this._throwIfClosed(),!this.isStopped){const e=this.observers.slice();for(const r of e)r.next(t)}}error(t){if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;const{observers:e}=this;for(;e.length;)e.shift().error(t)}}complete(){if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:t}=this;for(;t.length;)t.shift().complete()}}subscribe(t){const e=this.observers.push(t);return{unsubscribe:()=>{this.observers.splice(e-1,1)}}}_throwIfClosed(){if(this.closed)throw new Error("Subscription closed!")}}const xn=t=>e=>new jn((r=>e.subscribe({next(e){try{e=t(e),r.next(e)}catch(t){r.error(t)}},error(t){r.error(t)},complete(){r.complete()}})));function En(...t){return new jn((e=>{if(0===t.length)return jn.from([]);let r=t.length;const n=t.map((t=>jn.from(t).subscribe({next(t){e.next(t)},error(t){e.error(t)},complete(){0==--r&&e.complete()}})));return()=>n.forEach((t=>t.unsubscribe()))}))}function kn(...t){return new jn((e=>{if(0===t.length)return jn.from([]);let r=t.length,n=new Set,i=!1;const o=t.map((()=>{})),s=t.map(((s,u)=>jn.from(s).subscribe({next(r){if(o[u]=r,!i){if(n.add(u),n.size!==t.length)return;n=null,i=!0}e.next(Array.from(o))},error(t){e.error(t)},complete(){0==--r&&e.complete()}})));return()=>s.forEach((t=>t.unsubscribe()))}))}const Pn=(...t)=>e=>new jn((r=>{const n=new In,i=kn(...t.map((t=>t(n)))).subscribe(r),o=e.subscribe(n);return()=>{i.unsubscribe(),o.unsubscribe()}}));class Mn extends Function{constructor(){return super("...args","return this._bound.__call__(...args)"),this._bound=this.bind(this),this._bound}__call__(){}}function An(t){return t._priority_}class Ln extends jn{constructor(t){super(t),this._topics=this._topics||(this._topics={})}fromEvent(t,e){return new jn((r=>{const n=t=>r.next(t);return this.on(t,n,e),()=>{this.off(t,n)}}))}on(t,e,r,n){if("object"==typeof t){for(const n in t)this.on(n,t[n],e,r);return this}const i=this._topics[t]||(this._topics[t]=[]),o=e;"object"==typeof r?((e=e.bind(r))._bindfn_=o,e._one_=o._one_,e._scope_=r):void 0===n&&(n=r),e._priority_=void 0===n?1:n;const s=y(i,e,An);return i.splice(s,0,e),this}off(t,e,r){if(!0===t)return this._topics={},this;if("object"==typeof t){for(const r in t)this.off(r,t[r],e);return this}const n=this._topics[t];if(!n)return this;if(!0===e)return this._topics[t]=[],this;for(let t=0,i=n.length;t<i;t++){const i=n[t];if(!(i._bindfn_!==e&&i!==e||r&&i._scope_!==r)){n.splice(t,1);break}}return this}emit(t,e){const r=this._topics[t];let n=r&&r.length;if(!n)return this;const i={};for(i.topic=t;n--;){const t=r[n];t(e,i),t._one_&&r.splice(n,1)}return this}one(t,e,r){if("object"==typeof t){for(const n in t)this.one(n,t[n],e,r);return this}return e._one_=!0,this.on(t,e,r),this}}var Dn=Object.freeze({__proto__:null,Callable:Mn,Emitter:Ln,identity:e,typeName:i,now:o,castArray:function(t){return Array.isArray(t)?t:[t]},lerp:s,invLerp:u,clamp:a,lerpClamped:function(t,e,r){return s(t,e,a(0,1,r))},invLerpClamped:c,cloneDeep:l,isObjectLike:f,isPlainObject:h,filterObjectValues:p,sanitizedObject:m,mapProperties:d,pick:b,mergeIntersecting:function(t,e){return{...t,...b(e,Object.keys(t))}},sortedIndex:y,getIntersectingPaths:g,pull:function(t,e){const r=t.indexOf(e);return t.splice(r,1),t},shortestModDist:v,combineEasing:_});const Cn=2*Math.PI,Fn=(t=.1,e=.1)=>{let r=e/4;t<1?t=1:r=e*Math.asin(1/t)/Cn;const n=Cn/e;return e=>0===e?0:1===e?1:-t*Math.pow(2,10*(e-=1))*Math.sin((e-r)*n)},Rn=(t=.1,e=.1)=>{let r=e/4;t<1?t=1:r=e*Math.asin(1/t)/Cn;const n=Cn/e;return e=>0===e?0:1===e?1:t*Math.pow(2,-10*e)*Math.sin((e-r)*n)+1},qn=(t=.1,e=.1)=>{let r=e/4;t<1?t=1:r=e*Math.asin(1/t)/Cn;const n=Cn/e;return e=>0===e?0:1===e?1:(e*=2)<1?t*Math.pow(2,10*(e-=1))*Math.sin((e-r)*n)*-.5:t*Math.pow(2,-10*(e-=1))*Math.sin((e-r)*n)*.5+1},zn=(t=1.70158)=>e=>e*e*((t+1)*e-t),Nn=(t=1.70158)=>e=>--e*e*((t+1)*e+t)+1,Bn=(t=1.70158)=>e=>{const r=1.525*t;return(e*=2)<1?e*e*((r+1)*e-r)*.5:.5*((e-=2)*e*((r+1)*e+r)+2)},Gn=(t=1)=>e=>1/t*(1+(t*e|0)),$n=Math.PI/2,Un=t=>t,Vn=t=>t*t,Hn=t=>t*(2-t),Wn=t=>(t*=2)<1?.5*t*t:-.5*(--t*(t-2)-1),Yn=t=>t*t*t,Jn=t=>--t*t*t+1,Xn=t=>(t*=2)<1?.5*t*t*t:.5*((t-=2)*t*t+2),Kn=t=>t*t*t*t,Qn=t=>1- --t*t*t*t,Zn=t=>(t*=2)<1?.5*t*t*t*t:-.5*((t-=2)*t*t*t-2),ti=t=>t*t*t*t*t,ei=t=>--t*t*t*t*t+1,ri=t=>(t*=2)<1?.5*t*t*t*t*t:.5*((t-=2)*t*t*t*t+2),ni=t=>1-Math.cos(t*$n),ii=t=>Math.sin(t*$n),oi=t=>.5*(1-Math.cos(Math.PI*t)),si=t=>0===t?0:Math.pow(1024,t-1),ui=t=>0===t?0:1-Math.pow(1024,-t),ai=t=>0===t?0:1===t?1:(t*=2)<1?.5*Math.pow(1024,t-1):.5*(2-Math.pow(1024,1-t)),ci=Fn(),li=Rn(),fi=qn(),hi=t=>1-Math.sqrt(1-t*t),pi=t=>Math.sqrt(1- --t*t),mi=t=>(t*=2)<1?-.5*(Math.sqrt(1-t*t)-1):.5*(Math.sqrt(1-(t-=2)*t)+1),di=t=>(t=1-t)<1/2.75?1-7.5625*t*t:t<2/2.75?1-(7.5625*(t-=1.5/2.75)*t+.75):t<2.5/2.75?1-(7.5625*(t-=2.25/2.75)*t+.9375):1-(7.5625*(t-=2.625/2.75)*t+.984375),bi=t=>t<1/2.75?7.5625*t*t:t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,yi=t=>{let e=!1;return t<.5?(t=1-2*t,e=!0):t=2*t-1,t<1/2.75?t*=7.5625*t:t=t<2/2.75?7.5625*(t-=1.5/2.75)*t+.75:t<2.5/2.75?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375,e?.5*(1-t):.5*t+.5},gi=zn(),vi=Nn(),_i=Bn(),wi=Gn();var Oi=Object.freeze({__proto__:null,linear:Un,quadIn:Vn,quadOut:Hn,quadInOut:Wn,cubicIn:Yn,cubicOut:Jn,cubicInOut:Xn,quartIn:Kn,quartOut:Qn,quartInOut:Zn,quintIn:ti,quintOut:ei,quintInOut:ri,sinIn:ni,sinOut:ii,sinInOut:oi,expIn:si,expOut:ui,expInOut:ai,elasticIn:ci,elasticOut:li,elasticInOut:fi,circularIn:hi,circularOut:pi,circularInOut:mi,bounceIn:di,bounceOut:bi,bounceInOut:yi,backIn:gi,backOut:vi,backInOut:_i,step:wi}),Ti=Object.freeze({__proto__:null,makeElasticIn:Fn,makeElasticOut:Rn,makeElasticInOut:qn,makeBackIn:zn,makeBackOut:Nn,makeBackInOut:Bn,makeSteps:Gn,linear:Un,quadIn:Vn,quadOut:Hn,quadInOut:Wn,cubicIn:Yn,cubicOut:Jn,cubicInOut:Xn,quartIn:Kn,quartOut:Qn,quartInOut:Zn,quintIn:ti,quintOut:ei,quintInOut:ri,sinIn:ni,sinOut:ii,sinInOut:oi,expIn:si,expOut:ui,expInOut:ai,elasticIn:ci,elasticOut:li,elasticInOut:fi,circularIn:hi,circularOut:pi,circularInOut:mi,bounceIn:di,bounceOut:bi,bounceInOut:yi,backIn:gi,backOut:vi,backInOut:_i,step:wi});const Si=t=>(e,r,n)=>n>=t?r:e,ji=t=>(e,r,n)=>r.map(((r,i)=>t(e[i],r,n))),Ii=2*Math.PI,xi=(t,e,r)=>s(t,e,r),Ei=(t,e,r)=>t+v(t,e,Ii)*r,ki=(t,e,r)=>t+v(t,e,360)*r,Pi=ji(s),Mi=(t,e,r)=>d(t,((t,n)=>s(t,e[n],r))),Ai=(t,e,r)=>{if(r<=0)return t;const n=0|s(0,e.length,r);return e.substr(0,n)},Li=Si(1);var Di=Object.freeze({__proto__:null,linear:xi,radians:Ei,degrees:ki,array:Pi,object:Mi,string:Ai,toggle:Li}),Ci=Object.freeze({__proto__:null,makeToggle:Si,makeCyclic:t=>(e,r,n)=>e+v(e,r,t)*n,makeForArray:ji,linear:xi,radians:Ei,degrees:ki,array:Pi,object:Mi,string:Ai,toggle:Li});function Fi(t){if(null!=t){if("string"==typeof t){const e=t.replace(" ","").split("+");if(1!==e.length)return _(...e.map(Fi));if((t=e[0])in Oi)return Oi[t]}else if(t instanceof Function)return t;throw new Error(`Unrecognized easing name "${t}"`)}}function Ri(t){if(null==t)return!1;if(t instanceof Function)return t;if("string"==typeof t&&t in Di)return Di[t];throw new Error(`Unrecognized interpolator name "${t}"`)}const qi={number:{type:"number",default:0,interpolator:xi},string:{type:"string",default:"",interpolator:Ai},boolean:{type:"boolean",default:!1,interpolator:Li},array:{type:"array",default:[],interpolator:Pi},object:{type:"object",default:{},interpolator:Mi}},zi={};function Ni(t){if(null===t)throw new Error("Can not determine type of null value");const e=typeof t;if("string"===e)return t in zi?t:"string";if("number"===e)return"number";if("boolean"===e)return"boolean";if(Array.isArray(t))return"array";const r=function(t){return Object.values(zi).find((({constructor:e})=>t instanceof e))}(t);return r?r.type:"object"===e?"object":e}function Bi(t){if(null===t)throw new Error("Can not determine type of null value");if("string"==typeof t)return t;if(t===Number||"number"===t)return"number";if(t===Boolean||"boolean"===t)return"boolean";if(t===String)return"string";if(t===Array)return"array";const e=(r=t,Object.values(zi).find((({constructor:t})=>r===t)));var r;return e?e.type:t===Object||"object"===t?"object":t}function Gi(t){const e=qi[t]||zi[t];if(!e)throw new Error(`Unrecognized type ${t}`);return e}const $i=["value",...Object.keys(Gi("object"))],Ui="linear";function Vi(t,e,r){if("array"===t&&r&&r.length){const t=Hi(r[0]);return ji(t.interpolator)}return Ri(e.interpolator)}function Hi(t){let e,r,n,i,o;return!h(t)||void 0===t.value&&void 0===t.type?(n=Ni(t),i=Gi(n),e=Fi(t.easing||Ui),o=t,r=Vi(n,i,o)):(!function(t){if(Object.keys(t).filter((t=>$i.indexOf(t)<0)).length)throw new Error('Type definition contains extra keys. Does your definition use "type" as a property name?')}(t),n=Bi(t.type)||Ni(t.value),i=Gi(n),o=t.value||i.default,e=Fi(t.easing||Ui),r=Ri(t.interpolator)||Vi(n,i,o)),{type:n,easing:e,default:o,interpolator:r,def:t}}function Wi(t){return d(t,Hi)}function Yi(t){const e={},r=Object.keys(t);for(const n of r)e[n]=t[n].default;return e}const Ji=/([0-9.]+)(s|m|h)?/,Xi=/((\d\d):)?((\d\d):(\d\d))/;function Ki(t,e,r){return t=parseFloat(t||0),e=parseFloat(e||0),r=parseFloat(r||0),Math.round(1e3*(3600*t+60*e+r))}function Qi(t){if("string"!=typeof t)return t;let e=t.match(Xi);if(e)return Ki(e[2],e[4],e[5]);if(e=t.match(Ji),e){const t=(""+e[2]).toLowerCase();if(!e[1]||"s"===t)return Ki(0,0,e[1]);if("m"===t)return Ki(0,e[1],0);if("h"===t)return Ki(e[1],0,0)}return 0}const Zi=/^((\d{1,3})(\.\d*)?)%$/,to={endTime(t){if(void 0!==t)return Qi(t)},startTime:Qi,duration(t){if(void 0!==t)return Zi.test(t)?t:Qi(t)},easing:Fi};function eo(t,e,r){if(!t)throw new Error("Can not create frame without state object");if("object"!=typeof t)throw new Error("States must be plain objects");t=l(t),e=function(t,e){const r={...e,...m(t)};for(const t in to)r[t]=to[t](r[t]);return r}(e||t.$meta,r),delete t.$meta;const n=Zi.exec(e.duration);return n?(e.implicit=!0,e.fractionalDuration=parseFloat(n[1])/100):void 0!==e.endTime?void 0!==e.startTime?e.duration=e.endTime-e.startTime:e.startTime=e.endTime-e.duration:e.endTime=e.startTime+e.duration,{state:t,meta:e}}function ro(t,e,r,n){return t(e,r,n)}function no(t,e,r,n,i){if(n<=0)return l(e);if(n>=1)return l(r);const o=l(e);for(const s in r){const u=t[s];let a;if(u){const t=(i=i||u.easing)(n);a=ro(u.interpolator,e[s],r[s],t)}else a=r[s];o[s]=a}return o}function io(t,e=[]){if(!e.length)return[];const r=t=>t.time,n=Yi(t),i=[],o=e.filter((t=>t.meta.implicit)).sort(((t,e)=>t.meta.endTime-e.meta.endTime));(e=e.filter((t=>!t.meta.implicit))).forEach((t=>{let e;const n={type:"start",frame:t,time:t.meta.endTime-t.meta.duration},o={type:"end",frame:t,time:t.meta.endTime};n.end=o,o.start=n,e=y(i,o,r),i.splice(e,0,o),e=Math.min(e,y(i,n,r,!0)),i.splice(e,0,n)})),o.forEach((t=>{const e={type:"end",frame:t,time:t.meta.endTime};let n=y(i,e,r);const o=function(t,e,r){for(let n=e-1;n>=0;n--){const e=t[n];if("end"===e.type&&r!==e.time)return e.time}return 0}(i,n,e.time),u={type:"start",frame:t,time:s(e.time,o,t.meta.fractionalDuration)};u.end=e,e.start=u,i.splice(n,0,e),n=Math.min(n,y(i,u,r,!0)),i.splice(n,0,u)}));let u=n;i.forEach(((t,e)=>{if("end"!==t.type)return;const r=function(t,e,r,n){const i=r.state;return{startTime:t,endTime:e,startState:b(n,Object.keys(i)),endState:i,easing:r.meta.easing,frame:r}}(t.start.time,t.time,t.frame,u);t.transition=r,t.start.transition=r,u={...u,...r.endState}})),u=n,i.forEach((e=>{if("end"!==e.type)return;const r=oo(i,e.time);u=so(t,r,e.time,u),e.state=u}));const a=function(t){const e=[];let r;for(let n=t.length,i=0;i<n;i++){const n=t[i];"start"===n.type?e.push(n):(r=e.indexOf(n.start),e.splice(r,1));for(let t=e.length,r=0;r<t;r++){const n=e[r];for(let i=r+1;i<t;i++){const t=g(n.transition.endState,e[i].transition.endState);if(t.length)return{paths:t,frames:[n.frame,e[i].frame]}}}}return!1}(i);if(a)throw new Error(`The following overlapping frames modify the same state paths:\npaths: ${a.paths}\nframes: ${JSON.stringify(a.frames,null,2)}`);return i}function oo(t,e){const r=[];let n;for(let i=t.length,o=0;o<i;o++){const i=t[o];if(i.time>e)break;"start"===i.type?r.push(i):i.time!==e&&(n=r.indexOf(i.start),r.splice(n,1))}return r.map((t=>t.transition))}function so(t,e=[],r=0,n={}){return e.reduce(((e,n)=>{const i=c(n.startTime,n.endTime,r);return Object.assign(e,no(t,n.startState,n.endState,i,n.easing))}),l(n))}class uo extends Mn{at(t){return t}__call__(t){return xn((t=>this.at(t)))(t)}}const ao={tweenDuration:"100%",easing:"linear"};class co extends uo{static create(t,e){return new co(t,e)}constructor(t,e){super(),this.framesById={},this.frames=[],this.timeline=[],this._schema=Wi(t),this._startingState=Yi(this._schema),this._timeLabel=!1,this._loop=!1,this.options=Object.assign({},ao,e),this._refreshTimeline()}get duration(){return this.timeline[this.timeline.length-1]?.time||0}withTime(t="time"){return this._timeLabel=t||!1,this}by(t,e,r,n){const i={endTime:t};return"object"==typeof e?(n=r,r=e):i.duration=e,n&&(i.easing=n),this.to(r,i)}in(t,e,r,n){const i={endTime:this.duration+Qi(t)};return"object"==typeof e?(n=r,r=e):i.duration=e,n&&(i.easing=n),this.to(r,i)}to(t,e){const r={};"string"==typeof e?r.easing=e:e&&Object.assign(r,e),void 0===r.startTime&&void 0===r.endTime&&(r.startTime=this.duration);const n=eo(t,r,{duration:this.options.tweenDuration,easing:this.options.easing});if(n.meta.id&&this.framesById[n.meta.id])throw new Error(`Frame with id "${n.meta.id}" already defined`);return n.meta.id&&(this.framesById[n.meta.id]=n),this.frames.push(n),this._refreshTimeline(),this}loop(t=!0){return this._loop=t,this}_refreshTimeline(){return this.timeline=io(this._schema,this.frames),this}getFrame(t){return this.framesById[t]}at(t){let e;if(this._loop&&(t%=this.duration),t>=this.duration){const t=this.timeline[this.timeline.length-1];e=l(t.state)}else{const r=oo(this.timeline,t),n=function(t,e,r){let n=r;for(let r=t.length,i=0;i<r;i++){const r=t[i];if(r.time>e)return n;"end"===r.type&&(n=r.state)}return n}(this.timeline,t,this._startingState);e=so(this._schema,r,t,n)}if(this._timeLabel){if(void 0!==e[this._timeLabel])throw new Error(`State already has a property that would be overriden by time variable "${this._timeLabel}"`);e[this._timeLabel]=t}return e}getTransitions(t){return t=t||this.time,oo(this.timeline,t)}}const lo={relaxDuration:500,relaxDelay:1e3,easing:"linear"};class fo extends uo{static create(t,e){return new fo(t,e)}constructor(t,e){super(),this._subject=new In,this._tween=t,this.options=e,this.lastTime=0,this.defaults(),this.clear()}get options(){return this._options}set options(t){this._options=Object.assign({},lo,t),this.defaults()}freeze(t=!0){return this.frozen=t,this}relaxDelay(t){return this._relaxDelay=Qi(void 0===t?this.options.relaxDelay:t),this}relaxDuration(t){return this._relaxDuration=Qi(void 0===t?this.options.relaxDuration:t),this}easing(t){return this._easing=Fi(void 0===t?this.options.easing:t),this}defaults(){return this.relaxDelay(),this.relaxDuration(),this.easing(),this}set(t){return this.state={...this.state,...t},this.started=!1,this.startTime=!1,this.relaxState=null,this.active=!0,this._subject.next(this.lastTime),this}clear(){return this.state={},this.started=!1,this.active=!1,this.frozen=!1,this.startTime=!1,this.lastTime=0,this}at(t){if(this.lastTime=t,!this.active||this.frozen)return Object.assign({},this.state);if(this.started||(this.startTime=t,this.started=!0,this.endTime=this.startTime+this._relaxDelay+this._relaxDuration,this.relaxState=b(this._tween.at(this.endTime),Object.keys(this.state))),this.startTime===t)return Object.assign({},this.state);(t>=this.endTime||t<this.startTime)&&this.clear(),t>this.totalTime&&this.clear();const e=c(this.startTime+this._relaxDelay,this.endTime,t);return no(this._tween._schema,this.state,this.relaxState,e,this._easing)}__call__(t){return xn((t=>this.at(t)))(En(this._subject,t))}}const ho=(t=>t.requestAnimationFrame||(t=>setTimeout(t,16)))(window),po=[];function mo(){const t=po.length;if(0===t)return;ho(mo);const e=o();for(let r=0;r<t;r++){const t=po[r];t&&t(e)}}function bo(){return new jn((t=>{const e=o(),r=r=>t.next(r-e);var n;return n=r,po.push(n),1===po.length&&mo(),()=>{!function(t){const e=po.indexOf(t);po.splice(e,1)}(r)}}))}const yo={duration:1e3,easing:"cubicOut"};class go extends Ln{static create(t){return new go(t)}constructor(t){super((t=>{const e=e=>t.next(e);return this.on("update",e),this.emit("update",this._time),()=>this.off("update",e)})),this.totalTime=Qi(t),this._clockTime=0,this._time=0,this.playbackRate=1,this._paused=!0,this._loop=!1,this._sub=bo().subscribe((t=>this.step(t)))}get progress(){return this.totalTime>0?this._time/this.totalTime*100:0}set progress(t){this.seek(Math.max(0,t)*this.totalTime/100)}get time(){return this._time}set time(t){this.seek(t)}get paused(){return this._paused}set paused(t){this.togglePause(t)}destroy(){this.off(!0),this._sub.unsubscribe(),this.emit("destroy")}togglePause(t){return void 0===t&&(t=!this._paused),this._paused=!!t,this._paused?this.emit("pause"):this.emit("play"),this.emit("togglePause",this._paused),this}pause(){return this.togglePause(!0)}play(){return this.togglePause(!1)}loop(t=!0){return this._loop=t,this}playTo(t){return t=Qi(t),this._time===t?this:(this._playToTime=t,this._oldPlaybackRate=this.playbackRate,this.playbackRate=t>=this._time?1:-1,this.play())}seek(t){return this._time=t,this.emit("update",t),this.emit("seek",t),this}step(t){const e=this._clockTime,r=this.playbackRate,n=t-e;let i=this._time;const o=this.totalTime;return this._clockTime=t,this._paused||(i+=n*r,!1!==this._playToTime&&r*i>=r*this._playToTime&&(this.togglePause(!0),i=this._playToTime,this.playbackRate=this._oldPlaybackRate,this._playToTime=!1),this._time=i,r>0&&i>=o?this._loop?(this._time=i=0,this.emit("update",i),this.emit("end")):(this._time=i=o,this.emit("update",i),this.togglePause(!0),this.emit("end")):r<0&&i<=0?this._loop?(this._time=i=o,this.emit("update",i),this.emit("end")):(this._time=i=0,this.emit("update",i),this.togglePause(!0),this.emit("end")):this.emit("update",i)),this}}const vo=(t,e=!1)=>r=>new jn((n=>{let i=!1,o=null,s=!1;const u=t.subscribe({next:()=>{e&&!i||(n.next(o),i=!1,s&&(n.complete(),u.unsubscribe()))},complete:()=>{n.complete()},error:t=>{n.error(t)}}),a=r.subscribe({next:t=>{o=t,i=!0},complete:()=>{s=!0},error:t=>{n.error(t),i=!1,o=null,u.unsubscribe()}});return()=>{a.unsubscribe(),u.unsubscribe()}}));var _o=Object.freeze({__proto__:null,parseTime:Qi,parseEasing:Fi,parseInterpolator:Ri});t.Easing=Ti,t.Interpolators=Ci,t.Meddle=fo,t.Observable=jn,t.Parsers=_o,t.Player=go,t.Subject=In,t.Tween=co,t.Util=Dn,t.animationFrames=bo,t.animationSync=(t={})=>e=>new jn((r=>{let n=0,i=!1,o=!1,s=0,u=0,a=!0;const c=bo().subscribe((e=>{const l=Number.isFinite(t.playbackRate)?t.playbackRate:1,f=!a&&0!==l,h=t.threshold||83.33333333333333;let p=e;if(f){p=u+(e-s)*l,Math.abs(p-n)>h&&(i?p=n:a=!0),i=!1}else p=i?n:u;s=e,p!==u&&(u=p,r.next(p)),o&&(r.complete(),c.unsubscribe())})),l=e.subscribe({next:t=>{a=t===n,n=t,i=!0},complete:()=>{o=!0},error:t=>{r.error(t),c.unsubscribe()}});return()=>{l.unsubscribe(),c.unsubscribe()}})),t.animationThrottle=()=>t=>vo(bo(),!0)(t),t.combineLatest=kn,t.map=xn,t.merge=En,t.pipe=O,t.pipeFromArray=w,t.registerType=function(t){const{type:e,interpolator:r}=t;if(!e||!r||void 0===t.default)throw new Error('Custom types must have "type", "default", and "interpolator" specified');if(zi[e])throw new Error(`Custom type "${e}" is already registered`);zi[e]={type:e,interpolator:r,default:t.default},t.default.constructor&&(zi[e].constructor=t.default.constructor)},t.regulatedBy=vo,t.smoothen=function(t,e,r=null){return t instanceof Function&&(e=t,t=yo),t=Object.assign({},yo,t),n=>new jn((i=>{const o=[];let s,u,a=0;const l=Fi(t.easing);e||(e=()=>u);let f=null;const h=bo().subscribe((n=>{f&&((n=>{if(!s&&(s=Wi(r||e()||n),u=Yi(s),!r))return;const i=o.length,c=i?o[i-1].targetState:{...e()};o.push({startTime:a,endTime:a+Qi(t.duration),startState:c,targetState:n})})(f),f=null);const h=(t=>{if(a=t,!o.length)return null;let e=1;const r=o.map((({startTime:t,endTime:r})=>{if(0===e)return 0;const n=c(t,r,a)/e;return e=l(n),n}));for(u=r.reduceRight(((t,e,r)=>{const{startState:n}=o[r];return no(s,n,t,e,l)}),o[o.length-1].targetState);o[0]?.endTime<=a;)o.shift();return u})(n);h&&i.next(h)})),p=n.subscribe({next:t=>{f=t},error:t=>i.error(t),complete:()=>i.complete()});return{unsubscribe:()=>{h.unsubscribe(),p.unsubscribe()}}}))},t.spreadAssign=(...t)=>e=>O(xn((t=>Object.assign({},...t))))(Pn(...t)(e)),t.spreadCombineLatest=Pn,t.zip=function(...t){return new jn((e=>{if(0===t.length)return jn.from([]);const r=t.map((()=>[]));function n(){return r.some(((t,e)=>0===t.length&&i[e].closed))}const i=t.map(((t,i)=>jn.from(t).subscribe({next(t){r[i].push(t),r.every((t=>t.length>0))&&(e.next(r.map((t=>t.shift()))),n()&&e.complete())},error(t){e.error(t)},complete(){n()&&e.complete()}})));return()=>i.forEach((t=>t.unsubscribe()))}))},Object.defineProperty(t,"__esModule",{value:!0})}));
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiaW50d2Vlbi5taW4uanMiLCJzb3VyY2VzIjpbXSwic291cmNlc0NvbnRlbnQiOltdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiIn0=
